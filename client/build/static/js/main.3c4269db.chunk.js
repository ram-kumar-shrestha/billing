(this.webpackJsonpbilling=this.webpackJsonpbilling||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(35),s=n.n(r),a=n(5),i=n(12),o=n(106),l=n(8),d=n(9),u=(n(119),n(21)),j=(n(120),n(1)),b=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"logo",children:Object(j.jsx)("img",{src:"".concat("","/images/logo.svg"),alt:"company logo"})}),Object(j.jsxs)("div",{className:"info",children:[Object(j.jsx)("h1",{children:"Company Name "}),Object(j.jsx)("h4",{children:"Address"})]})]})},h=function(e){var t=e.path,n=e.name,c=e.icon,r=void 0===c?[]:c;return Object(j.jsxs)(d.b,{className:"link",to:t,style:{display:"flex"},children:[Object(j.jsx)("span",{style:{paddingRight:"0.5rem"},children:r}),n]})},m=n(24),p=n(7),O=n.n(p),x=n(13),f=n(101),v=n.n(f).a.create({baseURL:"http://localhost:8080/"});function y(){var e=localStorage.getItem("authToken");return e?{Authorization:"Bearer "+e}:{}}var N=function(){return function(){var e=Object(x.a)(O.a.mark((function e(t,n){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/products",{headers:y()});case 3:c=e.sent,t({type:"FETCH_PRODUCTS",payload:c.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(x.a)(O.a.mark((function e(t,n){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/users",{headers:y()});case 3:c=e.sent,t({type:"FETCH_USERS",payload:c.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n,c){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/users/".concat(e),{headers:y()});case 3:r=t.sent,n({type:"FETCH_USER",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},I=function(){return function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/history",{headers:y()});case 3:n=e.sent,t({type:"FETCH_HISTORIES",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},w=Object(a.b)((function(e){return{authUser:e.authUser}}),{fetchUser:E})((function(e){var t=e.authUser,n=e.fetchUser;return Object(j.jsx)("aside",{className:"nav-left",children:Object(j.jsxs)("div",{className:"nav-left__container",children:[Object(j.jsx)("section",{className:"company-info",children:Object(j.jsx)(b,{})}),Object(j.jsx)("section",{className:"top-left-nav",children:Object(j.jsxs)("nav",{children:[Object(j.jsx)(h,{path:"/dashboard",icon:Object(j.jsx)(u.e,{}),name:"Dashboard"}),Object(j.jsx)(h,{path:"/products/add-a-product",icon:Object(j.jsx)(u.d,{}),name:"Products"}),Object(j.jsx)(h,{path:"/create-an-invoice/invoice-form",icon:Object(j.jsx)(u.a,{}),name:"Create an Invoice"}),Object(j.jsx)(h,{path:"/history/all",icon:Object(j.jsx)(u.b,{}),name:"History"}),Object(j.jsx)(h,{path:"/users/add-a-user",icon:Object(j.jsx)(u.g,{}),name:"Users"})]})}),Object(j.jsx)("section",{className:"nav-left__bottom",children:Object(j.jsx)("button",{style:{width:"100%",border:"none",fontSize:"1rem"},onClick:function(e){e.preventDefault(),n(t.user._id)},children:Object(j.jsx)(h,{path:"/users/update/".concat(t.user._id),name:"Profile",icon:Object(j.jsx)(u.f,{})})})})]})})})),k=n(10),C=n(20),_=(n(141),Object(a.b)((function(e){return{authUser:e.authUser}}),{logOut:function(){return function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(y()),e.next=4,v.post("/users/logout",null,{headers:y()});case 4:n=e.sent,console.log(n),200===n.status&&(localStorage.removeItem("authToken"),localStorage.removeItem("authId")),t({type:"LOG_OUT",payload:{isAuth:!1}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.authUser,n=e.logOut,r=Object(l.g)(),s=Object(c.useState)(!1),a=Object(k.a)(s,2),i=a[0],o=a[1];return Object(j.jsxs)("header",{children:[Object(j.jsxs)("section",{className:"top-header",children:[Object(j.jsx)(d.b,{className:"user",to:"/profile",children:t.user.name}),Object(j.jsxs)("button",{className:"btn-log__out",style:{display:"flex",justifyContent:"center"},onClick:function(e){return function(e){e.preventDefault(),o(!0),n(),r("/")}(e)},children:["Log out",Object(j.jsx)("span",{style:{paddingLeft:"0.5rem"},children:Object(j.jsx)(C.b,{})}),i&&Object(j.jsx)("span",{style:{borderLeftColor:"rgb(21 154 239)",top:"0",left:"0.5rem"},className:"spinning-loader"})]})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("section",{className:"bottom-header",children:[Object(j.jsx)(d.b,{className:"bottom-header__nav item-1",to:"users/add-a-user",children:"Add a User"}),Object(j.jsx)(d.b,{className:"bottom-header__nav item-3",to:"/create-an-invoice/invoice-form",children:"Create an Invoice"})]})]})}))),S=n(102),T=n(103),P=n(109),U=n(107),D=(n(142),n(143),function(){return Object(j.jsxs)("div",{className:"dashboard-container",children:[Object(j.jsx)("img",{src:"/images/bgDashboard.svg",alt:"billing svg"}),Object(j.jsxs)("div",{className:"list",children:[Object(j.jsx)("h1",{children:"Make Your Billing Experience Easier"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"Save all your invoices"}),Object(j.jsx)("li",{children:"Access any invoice at any time"}),Object(j.jsx)("li",{children:"Make your bussiness digital"}),Object(j.jsx)("li",{children:"Empress the customer"}),Object(j.jsx)("li",{children:"No worry for loss of data"})]})]})]})}),R=(n(144),Object(a.b)(null,{fetchProducts:N})((function(e){var t=e.fetchProducts;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("section",{className:"products-container",children:[Object(j.jsx)(d.b,{className:"link",to:"/products/add-a-product",children:"Add A Product"}),Object(j.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),t()}(e)},style:{background:"transparent",border:"none",fontSize:"1.2rem",fontWeight:"normal"},children:Object(j.jsx)(d.b,{className:"link",to:"/products/view-all-product",children:"View All Product"})})]}),Object(j.jsx)("div",{className:"outlet-container",children:Object(j.jsx)(l.a,{})})]})}))),A=Object(a.b)((function(e){return{histories:e.history,products:e.products}}),{fetchHistories:I,fetchHistory:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/history/".concat(e),{headers:y()});case 3:c=t.sent,n({type:"FETCH_HISTORY",payload:c.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},fetchProducts:N,deleteHistory:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n,c){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.delete("/history/".concat(e),{headers:y()});case 3:r=t.sent,n({type:"DELETE_HISTORY",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){if("[object Array]"!==Object.prototype.toString.call(e.histories)||0===e.histories.length)return e.fetchHistories(),Object(j.jsx)("div",{children:"Loading... "});var t=e.histories.map((function(t,n){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:n+1}),Object(j.jsx)("td",{children:t.clientName}),Object(j.jsx)("td",{children:t.invoiceNo}),Object(j.jsx)("td",{children:t.date}),Object(j.jsx)("td",{children:t.userName}),Object(j.jsx)("td",{children:Object(j.jsx)(d.b,{className:"link edit",to:"/history/show/".concat(t._id),onClick:function(n){return c=t._id,e.fetchHistory(c),void(0===e.products.length&&e.fetchProducts());var c},children:Object(j.jsx)(u.c,{})})}),Object(j.jsx)("td",{children:Object(j.jsx)(d.b,{className:"link delete",to:"/history/all",onClick:function(n){return c=t._id,void e.deleteHistory(c);var c},children:Object(j.jsx)(C.a,{})})})]},n)}));return Object(j.jsxs)("section",{className:"invoice-container",children:[Object(j.jsx)("h1",{className:"title",children:"History"}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"SN"}),Object(j.jsx)("th",{children:"Client Name"}),Object(j.jsx)("th",{children:"Invoice Number"}),Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Issued By"}),Object(j.jsx)("th",{children:"View History"}),Object(j.jsx)("th",{children:"Delete History"})]})}),Object(j.jsx)("tbody",{children:t})]})]})})),F=(n(145),function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("section",{className:"users-container",children:[Object(j.jsx)(d.b,{className:"link",to:"/users/add-a-user",children:"Add A User"}),Object(j.jsx)(d.b,{className:"link",to:"/users/view-all-users",children:"View All User"})]}),Object(j.jsx)("div",{className:"outlet-container",children:Object(j.jsx)(l.a,{})})]})}),H=n(250),L=n(249),q=(n(55),Object(a.b)((function(e){return{initialValues:{name:e.client&&e.client.isEditClient?e.client.name:"",phone:e.client&&e.client.isEditClient?e.client.phone:"",organization:e.client&&e.client.isEditClient?e.client.organization:""},client:e.client,invoice:e.form.invoice}}),{addClient:function(e){return{type:"ADD_CLIENT",payload:e}},fetchProducts:N,refreshItem:function(e){return{type:"REFRESH_ITEM",payload:e}}})(Object(L.a)({form:"invoice"})((function(e){var t=Object(l.g)();Object(c.useEffect)((function(){e.client.isEditClient||e.refreshItem([])}),[]);var n=e.pristine,r=e.reset,s=e.submitting,a=function(e,t){return Object(j.jsx)("h3",{style:{background:t,color:"#fff",marginBottom:"0.5rem",padding:"0.5rem"},children:e})},i=Object(c.useState)(""),o=Object(k.a)(i,2),d=o[0],u=o[1];return Object(j.jsxs)("section",{className:"form-container outlet-container",children:[Object(j.jsx)("h1",{children:e.client.isEditClient?"Edit Client's Info":"Add Client's Info"}),Object(j.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e.invoice.values.phone&&isNaN(Number(e.invoice.values.phone))?u(a("Phone must be a number","#ca2525")):e.invoice.values.phone&&(e.invoice.values.phone.length<9||e.invoice.values.phone.length>10)?u(a("Phone must be a 9 or 10 digit number","#ca2525")):(e.addClient({name:e.invoice.values.name,phone:e.invoice.values.phone,organization:e.invoice.values.organization}),r(),e.products||e.fetchProducts(),t("/create-an-invoice/select-product"))},children:[d,Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Client's Name:"}),Object(j.jsx)(H.a,{name:"name",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"phone",children:"Phone:"}),Object(j.jsx)(H.a,{name:"phone",component:"input",type:"text"})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"organization",children:"Organization:"}),Object(j.jsx)(H.a,{name:"organization",component:"input",type:"text"})]}),Object(j.jsx)("button",{type:"submit",disabled:!e.client.isEditClient&&(n||s),className:"btn btn-add",children:"Add"}),Object(j.jsx)("button",{type:"button",className:"btn btn-clear",disabled:n||s,onClick:r,children:"Clear Values"})]})]})})))),z=Object(a.b)((function(e){return{products:e.products,items:e.form.productItems,selectedProducts:e.selectedProducts,client:e.client}}),{selectItem:function(e){return{type:"SELECT_ITEM",payload:e}},editClient:function(e){return{type:"EDIT_CLIENT",payload:Object(m.a)(Object(m.a)({},e),{},{isEditClient:!0})}},deleteItem:function(e){return{type:"DELETE_ITEM",payload:e}}})(Object(L.a)({form:"productItems"})((function(e){var t=e.pristine,n=e.reset,r=e.submitting,s=e.selectedProducts.map((function(t,n){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:n+1}),Object(j.jsx)("td",{children:t.name}),Object(j.jsx)("td",{children:t.quantity}),Object(j.jsx)("td",{children:Object(j.jsx)(d.b,{className:"link edit",to:"/create-an-invoice/select-product",onClick:function(){return e.deleteItem(t)},children:"Delete"})})]},n)})),a=function(e,t){return Object(j.jsx)("h3",{style:{background:t,color:"#fff",marginBottom:"0.5rem",padding:"0.5rem"},children:e})},i=Object(c.useState)(""),o=Object(k.a)(i,2),l=o[0],u=o[1],b=e.products.map((function(e,t){return Object(j.jsx)("option",{name:e.name,value:e.name,children:e.name},t)}));return Object(j.jsxs)("section",{className:"form-container outlet-container",children:[Object(j.jsx)("h1",{children:"Select Product Items"}),Object(j.jsx)("h3",{style:{background:"#43bb4d",color:"#ffff",width:"30%",padding:"1rem",marginBottom:"1rem"},children:"Invoice for ".concat(e.client.name)}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.items.values.quantity&&isNaN(Number(e.items.values.quantity))?u(a("Quantity must be a number","#ca2525")):0===e.products.length?u(Object(j.jsx)(d.b,{className:"link item-3",style:{width:"30%"},to:"/products/add-a-product",children:"Add a product"})):void 0===e.items.values.name?u(a("Select a product first","#ca2525")):(e.selectItem({name:e.items.values.name,quantity:e.items.values.quantity}),n(),u(Object(j.jsx)("div",{children:a("You have added ".concat(e.items.values.name),"#038f59")})))},children:[l,Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),Object(j.jsx)(H.a,{name:"quantity",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Product's Name:"}),Object(j.jsxs)("div",{className:"form-item multiple-choice",children:[Object(j.jsx)(H.a,{name:"name",component:"input",list:"db-products",style:{fontSize:"0.8rem",padding:"0.5em 1rem"}}),Object(j.jsx)("datalist",{id:"db-products",children:b})]})]}),Object(j.jsx)("button",{type:"submit",disabled:t||r,className:"btn btn-add",children:"Add"}),Object(j.jsx)("button",{type:"button",className:"btn btn-clear",disabled:t||r,onClick:n,children:"Clear Values"}),Object(j.jsx)(d.b,{className:"btn btn-back",to:"/create-an-invoice/invoice-form",onClick:function(){return e.editClient(e.client)},children:"Edit Client Info"}),Object(j.jsx)(d.b,{className:"btn btn-invoice",to:"/create-an-invoice/show-invoice",children:"Show the invoice"})]}),Object(j.jsx)("div",{className:"selected products",children:0!==e.selectedProducts.length?Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"SN"}),Object(j.jsx)("th",{children:"Product Name"}),Object(j.jsx)("th",{children:"Quantity"}),Object(j.jsx)("th",{children:"Delete"})]})}),Object(j.jsx)("tbody",{children:s})]}):""})]})}))),B=Object(a.b)((function(e){return{productInfo:e.form.productInfo}}),{addProduct:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n,c){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.post("/products",e,{headers:y()});case 3:r=t.sent,n({type:"ADD_PRODUCT",payload:r.data}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.reponse);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}})(Object(L.a)({form:"productInfo"})((function(e){var t=e.pristine,n=e.reset,r=e.submitting,s=function(e,t){return Object(j.jsx)("h3",{style:{background:t,color:"#fff",marginBottom:"0.5rem",padding:"0.5rem"},children:e})},a=Object(c.useState)(""),i=Object(k.a)(a,2),o=i[0],l=i[1],d=Object(c.useState)(""),u=Object(k.a)(d,2),b=u[0],h=u[1],m=Object(c.useState)(!1),p=Object(k.a)(m,2),O=p[0],x=p[1];return Object(j.jsxs)("section",{className:"form-container",children:[Object(j.jsx)("h1",{children:"Add a product"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),x(!0),isNaN(Number(e.productInfo.values.rate))?l(s("Rate must be a number","#ca2525")):e.addProduct({name:e.productInfo.values.name,rate:e.productInfo.values.rate,description:e.productInfo.values.description}).then((function(){n(),x(!1),l(s(' You have added "'.concat(e.productInfo.values.name,'"'),"#038f59")),h("")})).catch((function(t){x(!1),h(" ".concat(e.productInfo.values.name," product is already present ")),l("")}))},children:[o,b&&Object(j.jsx)("p",{className:"error",children:b}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(j.jsx)(H.a,{name:"name",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"rate",children:"Rate:"}),Object(j.jsx)(H.a,{name:"rate",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(j.jsx)(H.a,{name:"description",component:"input",type:"text"})]}),Object(j.jsxs)("button",{type:"submit",disabled:t||r,className:"btn btn-add",children:["Add ",O&&Object(j.jsx)("span",{className:"spinning-loader"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-clear",disabled:t||r,onClick:n,children:"Clear Values"})]})]})}))),V=Object(a.b)((function(e){return{products:e.products}}),{fetchProducts:N,deleteProduct:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n,c){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.delete("/products/".concat(e),{headers:y()});case 3:r=t.sent,n({type:"DELETE_PRODUCT",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},fetchProduct:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n,c){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/products/".concat(e),{headers:y()});case 3:r=t.sent,n({type:"FETCH_PRODUCT",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){if("[object Array]"!==Object.prototype.toString.call(e.products)||0===e.products.length)return e.fetchProducts(),Object(j.jsx)("div",{children:"Loading... "});var t=e.products.map((function(t,n){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:n+1}),Object(j.jsx)("td",{children:t.name}),Object(j.jsx)("td",{children:t.rate}),Object(j.jsx)("td",{children:t.description}),Object(j.jsx)("td",{children:Object(j.jsx)(d.b,{className:"link edit",to:"/products/update/".concat(t._id),onClick:function(n){return c=t._id,void e.fetchProduct(c);var c},children:Object(j.jsx)(C.c,{})})}),Object(j.jsx)("td",{children:Object(j.jsx)(d.b,{className:"link delete",to:"/products/delete/".concat(t._id),onClick:function(n){return c=t._id,void e.deleteProduct(c);var c},children:Object(j.jsx)(C.a,{})})})]},n)}));return Object(j.jsxs)("section",{className:"all-products",children:[Object(j.jsx)("h1",{className:"title",children:"Products"}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"SN"}),Object(j.jsx)("th",{children:"Product Name"}),Object(j.jsx)("th",{children:"Rate"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Edit"}),Object(j.jsx)("th",{children:"Delete"})]})}),Object(j.jsx)("tbody",{children:t})]})]})})),Y=Object(a.b)((function(e,t){return{initialValues:{name:e.products.name,rate:e.products.rate,description:e.products.description},productInfo:e.form.productInfo}}),{fetchProducts:N,updateProduct:function(e,t){return function(){var n=Object(x.a)(O.a.mark((function n(c,r){var s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.patch("/products/".concat(e),t,{headers:y()});case 3:s=n.sent,c({type:"UPDATE_PRODUCT",payload:s.data}),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),new Error(n.t0.reponse);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()}})(Object(L.a)({form:"productInfo",enableReinitialize:!0})((function(e){var t=e.pristine,n=e.reset,r=e.submitting,s=Object(l.h)().id,a=function(e,t){return Object(j.jsx)("h3",{style:{background:t,color:"#fff",marginBottom:"0.5rem",padding:"0.5rem"},children:e})},i=Object(c.useState)(""),o=Object(k.a)(i,2),d=o[0],u=o[1],b=Object(c.useState)(""),h=Object(k.a)(b,2),m=h[0],p=h[1],O=Object(c.useState)(!1),x=Object(k.a)(O,2),f=x[0],v=x[1];return Object(j.jsxs)("section",{className:"form-container",children:[Object(j.jsx)("h1",{children:"Update a product"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),v(!0),isNaN(Number(e.productInfo.values.rate))?u(a("Rate must be a number","#ca2525")):e.updateProduct(s,{name:e.productInfo.values.name,rate:e.productInfo.values.rate,description:e.productInfo.values.description}).then((function(){v(!1),e.fetchProducts(),u(a(' You have updated "'.concat(e.productInfo.values.name,'"'),"#038f59")),p("")})).catch((function(t){v(!1),p(" ".concat(e.productInfo.values.name," product is already present ")),u("")}))},children:[d,m&&Object(j.jsx)("p",{className:"error",children:m}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(j.jsx)(H.a,{name:"name",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"rate",children:"Rate:"}),Object(j.jsx)(H.a,{name:"rate",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(j.jsx)(H.a,{name:"description",component:"input",type:"text"})]}),Object(j.jsxs)("button",{type:"submit",className:"btn btn-add",children:["Update ",f&&Object(j.jsx)("span",{className:"spinning-loader"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-clear",disabled:t||r,onClick:n,children:"Clear Values"})]})]})}))),M=Object(a.b)((function(e){return{userInfo:e.form.userInfo}}),{addUser:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n,c){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.post("/users",e,{headers:y()});case 3:r=t.sent,n({type:"ADD_USER",payload:r.data}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.reponse);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}})(Object(L.a)({form:"userInfo"})((function(e){var t=e.pristine,n=e.reset,r=e.submitting,s=function(e,t){return Object(j.jsx)("h3",{style:{background:t,color:"#fff",marginBottom:"0.5rem",padding:"0.5rem"},children:e})},a=Object(c.useState)(""),i=Object(k.a)(a,2),o=i[0],l=i[1],d=Object(c.useState)(""),u=Object(k.a)(d,2),b=u[0],h=u[1],m=Object(c.useState)(!1),p=Object(k.a)(m,2),O=p[0],x=p[1];return Object(j.jsxs)("section",{className:"form-container",children:[Object(j.jsx)("h1",{children:"Add a User"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),x(!0),isNaN(Number(e.userInfo.values.phone))?l(s("Phone must be a number","#ca2525")):e.userInfo.values.phone.length<9||e.userInfo.values.phone.length>10?l(s("Phone must be a 9 or 10 digit number","#ca2525")):e.addUser({name:e.userInfo.values.name,phone:e.userInfo.values.phone,email:e.userInfo.values.email,password:e.userInfo.values.password}).then((function(){n(),x(!1),l(s(' You have added "'.concat(e.userInfo.values.name,'"'),"#038f59")),h("")})).catch((function(e){x(!1),h("Email is already taken"),l("")}))},children:[o,b&&Object(j.jsx)("p",{className:"error",children:b}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(j.jsx)(H.a,{name:"name",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"phone",children:"Phone:"}),Object(j.jsx)(H.a,{name:"phone",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)(H.a,{name:"email",component:"input",type:"Email",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(j.jsx)(H.a,{name:"password",component:"input",type:"password",required:!0})]}),Object(j.jsxs)("button",{type:"submit",disabled:t||r,className:"btn btn-add",children:["Add ",O&&Object(j.jsx)("span",{className:"spinning-loader"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-clear",disabled:t||r,onClick:n,children:"Clear Values"})]})]})}))),G=Object(a.b)((function(e){return{users:e.users}}),{fetchUsers:g,fetchUser:E,deleteUser:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n,c){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.delete("/users/".concat(e),{headers:y()});case 3:r=t.sent,n({type:"DELETE_USER",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){Object(c.useEffect)((function(){e.fetchUsers()}),[]);if("[object Array]"!==Object.prototype.toString.call(e.users)||0===e.users.length)return Object(j.jsx)("div",{children:"Loading... "});var t=e.users.map((function(t,n){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:n+1}),Object(j.jsx)("td",{children:t.name}),Object(j.jsx)("td",{children:t.phone}),Object(j.jsx)("td",{children:t.email}),Object(j.jsx)("td",{children:Object(j.jsx)(d.b,{className:"link edit",to:"/users/update/".concat(t._id),onClick:function(n){return c=t._id,void e.fetchUser(c);var c},children:Object(j.jsx)(C.c,{})})}),Object(j.jsx)("td",{children:Object(j.jsx)(d.b,{className:"link delete",to:"/users/delete/".concat(t._id),onClick:function(n){return c=t._id,void e.deleteUser(c);var c},children:Object(j.jsx)(C.a,{})})})]},n)}));return Object(j.jsxs)("section",{className:"all-users",children:[Object(j.jsx)("h1",{className:"title",children:"Users"}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"SN"}),Object(j.jsx)("th",{children:"User Name"}),Object(j.jsx)("th",{children:"Phone"}),Object(j.jsx)("th",{children:"Email"}),Object(j.jsx)("th",{children:"Edit"}),Object(j.jsx)("th",{children:"Delete"})]})}),Object(j.jsx)("tbody",{children:t})]})]})})),Q=Object(a.b)((function(e){return{initialValues:{name:e.users.name,phone:e.users.phone,email:e.users.email,password:e.users.password},userInfo:e.form.userInfo}}),{fetchUsers:g,updateUser:function(e,t){return function(){var n=Object(x.a)(O.a.mark((function n(c,r){var s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.patch("/users/".concat(e),t,{headers:y()});case 3:s=n.sent,c({type:"UPDATE_USER",payload:s.data}),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),new Error(n.t0.reponse);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()}})(Object(L.a)({form:"userInfo",enableReinitialize:!0})((function(e){var t=e.pristine,n=e.reset,r=e.submitting,s=Object(l.h)().id,a=function(e,t){return Object(j.jsx)("h3",{style:{background:t,color:"#fff",marginBottom:"0.5rem",padding:"0.5rem"},children:e})},i=Object(c.useState)(""),o=Object(k.a)(i,2),d=o[0],u=o[1],b=Object(c.useState)(""),h=Object(k.a)(b,2),m=h[0],p=h[1],O=Object(c.useState)(!1),x=Object(k.a)(O,2),f=x[0],v=x[1];return Object(j.jsxs)("section",{className:"form-container",children:[Object(j.jsx)("h1",{children:"Update a User"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),v(!0),isNaN(Number(e.userInfo.values.phone))?u(a("Phone must be a number","#ca2525")):e.userInfo.values.phone.length<9||e.userInfo.values.phone.length>10?u(a("Phone must be a 9 or 10 digit number","#ca2525")):e.updateUser(s,{name:e.userInfo.values.name,phone:e.userInfo.values.phone,email:e.userInfo.values.email,password:e.userInfo.values.password}).then((function(){v(!1),u(a(' You have updated "'.concat(e.userInfo.values.name,'"'),"#038f59")),p("")})).catch((function(e){v(!1),p("Email is already taken"),u("")}))},children:[d,m&&Object(j.jsx)("p",{className:"error",children:m}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(j.jsx)(H.a,{name:"name",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"phone",children:"Phone:"}),Object(j.jsx)(H.a,{name:"phone",component:"input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)(H.a,{name:"email",component:"input",type:"Email",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(j.jsx)(H.a,{name:"password",component:"input",type:"password"})]}),Object(j.jsxs)("button",{type:"submit",className:"btn btn-add",children:["Update ",f&&Object(j.jsx)("span",{className:"spinning-loader"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-clear",disabled:t||r,onClick:n,children:"Clear Values"})]})]})}))),J=n(52),X=function(e){var t=e.name,n=e.value;return Object(j.jsxs)("h4",{className:"items",children:[t," ",Object(j.jsx)("span",{className:"item-value",children:n})]})},W=function(e){var t=0,n=e.items.map((function(n,c){var r=e.products.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()})),s=parseInt(r.rate),a=n.quantity*s;return t+=a,Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:c+1}),Object(j.jsx)("td",{children:n.name}),Object(j.jsx)("td",{children:n.quantity}),Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{children:a})]},c)}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"SN"}),Object(j.jsx)("th",{children:"Partcular (s)"}),Object(j.jsx)("th",{children:"Qty"}),Object(j.jsx)("th",{children:"Rate (Rs.)"}),Object(j.jsx)("th",{children:"Amount (Rs.)"})]})}),Object(j.jsx)("tbody",{children:n}),Object(j.jsx)("tfoot",{children:Object(j.jsx)("tr",{className:"total-sum__row",children:Object(j.jsxs)("td",{colSpan:"5",className:"total-sum",children:["Total Amount: Rs. ",t]})})})]})})},K=Object(a.b)((function(e){return{data:e.selectedProducts,products:e.products,client:e.client,history:e.history,name:localStorage.getItem("authToken")?e.authUser.user.name:""}}),{createHistory:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.post("/history",e,{headers:y()});case 3:c=t.sent,n({type:"ADD_Histroy",payload:c.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},fetchHistories:I})((function(e){var t=Object(c.useState)(new Date),n=Object(k.a)(t,2),r=n[0],s=(n[1],Object(c.useRef)()),a=r.toLocaleDateString(),i=r.toLocaleTimeString(),o=r.getTime()%16386317,l={invoiceNo:o,clientName:e.client.name,clientPhone:e.client.phone,clientOrganization:e.client.organization,date:a,time:i,userName:e.name,selectedProducts:e.data};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"invoice-container",ref:s,children:[Object(j.jsxs)("section",{className:"invoice-header",children:[Object(j.jsx)("div",{className:"top-left__info",children:Object(j.jsxs)("div",{className:"company-info__container",children:[Object(j.jsx)(b,{}),Object(j.jsx)("h5",{children:9844487985})]})}),Object(j.jsx)("div",{className:"invoice-info",children:Object(j.jsx)("h2",{children:"Invoice"})}),Object(j.jsxs)("div",{className:"right-info",children:[Object(j.jsx)(X,{name:"Date:",value:a}),Object(j.jsx)(X,{name:"Invoice No:",value:o}),Object(j.jsx)(X,{name:"PAN:",value:546749688})]}),Object(j.jsxs)("div",{className:"client-info",children:[Object(j.jsx)(X,{name:"Client's Name:",value:e.client.name}),Object(j.jsx)(X,{name:"Contact:",value:e.client.phone}),Object(j.jsx)(X,{name:"Organization:",value:e.client.organization}),Object(j.jsx)(X,{name:"Time:",value:i})]})]}),Object(j.jsx)("hr",{style:{borderColor:"#1b1b1b"}}),Object(j.jsxs)("section",{className:"invoice-table",children:[Object(j.jsx)(W,{items:e.data,products:e.products}),Object(j.jsx)("hr",{style:{borderColor:"#1b1b1b"}}),Object(j.jsxs)("div",{className:"remarks",children:[Object(j.jsx)(X,{name:"Signature:",value:""}),Object(j.jsx)(X,{name:"Issued By:",value:e.name})]})]}),Object(j.jsx)("hr",{style:{borderColor:"#1b1b1b"}})]}),Object(j.jsxs)("div",{className:"links",children:[Object(j.jsx)("button",{className:"btn-print",onClick:Object(J.useReactToPrint)({content:function(){return s.current},onAfterPrint:function(){e.createHistory(l)}}),children:"Print"}),Object(j.jsx)(d.b,{className:"btn btn-invoice",to:"/create-an-invoice/select-product",children:"Add more items"}),Object(j.jsx)(d.b,{className:"btn btn-back",to:"/create-an-invoice/invoice-form",children:"Edit Client Info"})]})]})})),Z=Object(a.b)((function(e){return{history:e.history,products:e.products}}),{fetchHistories:I})((function(e){var t=e.history,n=e.products,r=(e.fetchHistories,Object(c.useRef)()),s="[object Array]"===Object.prototype.toString.call(t)||0===n.length?void t.length:Object(j.jsx)(W,{items:t.selectedProducts,products:n});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"invoice-container",ref:r,children:[Object(j.jsxs)("section",{className:"invoice-header",children:[Object(j.jsx)("div",{className:"top-left__info",children:Object(j.jsxs)("div",{className:"company-info__container",children:[Object(j.jsx)(b,{}),Object(j.jsx)("h5",{children:9844487985})]})}),Object(j.jsx)("div",{className:"invoice-info",children:Object(j.jsx)("h2",{children:"Invoice"})}),Object(j.jsxs)("div",{className:"right-info",children:[Object(j.jsx)(X,{name:"Date:",value:t.date}),Object(j.jsx)(X,{name:"Invoice No:",value:t.invoiceNo}),Object(j.jsx)(X,{name:"PAN:",value:546749688})]}),Object(j.jsxs)("div",{className:"client-info",children:[Object(j.jsx)(X,{name:"Client's Name:",value:t.clientName}),Object(j.jsx)(X,{name:"Contact:",value:t.clientPhone}),Object(j.jsx)(X,{name:"Organization:",value:t.clientOrganization}),Object(j.jsx)(X,{name:"Time:",value:t.time})]})]}),Object(j.jsx)("hr",{style:{borderColor:"#1b1b1b"}}),Object(j.jsxs)("section",{className:"invoice-table",children:[s,Object(j.jsx)("hr",{style:{borderColor:"#1b1b1b"}}),Object(j.jsxs)("div",{className:"remarks",children:[Object(j.jsx)(X,{name:"Signature:",value:""}),Object(j.jsx)(X,{name:"Issued By:",value:t.userName})]})]}),Object(j.jsx)("hr",{style:{borderColor:"#1b1b1b"}})]}),Object(j.jsx)("div",{className:"links",children:Object(j.jsx)("button",{className:"btn-print",onClick:Object(J.useReactToPrint)({content:function(){return r.current}}),children:"Print"})})]})})),$=function(e){Object(P.a)(n,e);var t=Object(U.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){return Object(j.jsx)("main",{children:Object(j.jsx)("section",{className:"main-body",children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/dashboard/",element:Object(j.jsx)(D,{})}),Object(j.jsxs)(l.b,{path:"/products/",element:Object(j.jsx)(R,{}),children:[Object(j.jsx)(l.b,{path:"view-all-product",element:Object(j.jsx)(V,{})}),Object(j.jsx)(l.b,{path:"add-a-product",element:Object(j.jsx)(B,{})}),Object(j.jsx)(l.b,{path:"delete/:id",element:Object(j.jsx)(V,{})}),Object(j.jsx)(l.b,{path:"update/:id",element:Object(j.jsx)(Y,{})})]}),Object(j.jsxs)(l.b,{path:"/create-an-invoice",element:Object(j.jsx)(l.a,{name:"outlet-container"}),children:[Object(j.jsx)(l.b,{path:"invoice-form",element:Object(j.jsx)(q,{})}),Object(j.jsx)(l.b,{path:"select-product",element:Object(j.jsx)(z,{})}),Object(j.jsx)(l.b,{path:"show-invoice",element:Object(j.jsx)(K,{})})]}),Object(j.jsxs)(l.b,{path:"/history",element:Object(j.jsx)(l.a,{}),children:[Object(j.jsx)(l.b,{path:"all",element:Object(j.jsx)(A,{})}),Object(j.jsx)(l.b,{path:"show/:id",element:Object(j.jsx)(Z,{})})]}),Object(j.jsxs)(l.b,{path:"/users/",element:Object(j.jsx)(F,{}),children:[Object(j.jsx)(l.b,{path:"view-all-users",element:Object(j.jsx)(G,{})}),Object(j.jsx)(l.b,{path:"add-a-user",element:Object(j.jsx)(M,{})}),Object(j.jsx)(l.b,{path:"delete/:id",element:Object(j.jsx)(G,{})}),Object(j.jsx)(l.b,{path:"update/:id",element:Object(j.jsx)(Q,{})})]})]})})})}}]),n}(c.Component),ee=$,te=(n(246),Object(a.b)((function(e){return{info:e.form.logInInfo}}),{logIn:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.post("/users/login",e);case 3:c=t.sent,localStorage.setItem("authToken",c.data.token),localStorage.setItem("authId",c.data.user._id),n({type:"LOG_IN",payload:Object(m.a)(Object(m.a)({},c.data),{},{isAuth:!0})}),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0.response);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(L.a)({form:"logInInfo"})((function(e){var t=Object(l.g)(),n=e.pristine,r=e.submitting,s=Object(c.useState)(""),a=Object(k.a)(s,2),i=a[0],o=a[1],d=Object(c.useState)(!1),u=Object(k.a)(d,2),b=u[0],h=u[1],m=function(){var n=Object(x.a)(O.a.mark((function n(c){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c.preventDefault(),h(!0),e.logIn({email:e.info.values.email,password:e.info.values.password}).then((function(e){t("/dashboard"),h(!1)})).catch((function(e){h(!1),o("User Credentials do not match")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsxs)("section",{className:"login-container",style:{background:'url("/images/billing-software.png")'},children:[Object(j.jsxs)("div",{className:"slogan",children:[Object(j.jsx)("h1",{children:"Enjoy The Billing Application"}),Object(j.jsx)("h3",{children:"Make Your Bussiness Efficient"})]}),Object(j.jsxs)("form",{onSubmit:m,className:"form-container",children:[Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)(H.a,{name:"email",component:"input",type:"email",required:!0})]}),Object(j.jsxs)("div",{className:"form-item",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(j.jsx)(H.a,{name:"password",component:"input",type:"password",required:!0})]}),i&&Object(j.jsxs)("p",{className:"error",children:[" ",i]}),Object(j.jsxs)("button",{type:"submit",disabled:n||r,className:"btn btn-login",children:["Log In"," ",b&&Object(j.jsx)("span",{style:{borderLeftColor:"rgb(39, 154, 226)"},className:"spinning-loader"})]})]})]})})))),ne=Object(a.b)((function(e){return{authUser:e.authUser}}),{fetchAuthUser:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n,c){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/users/".concat(e),{headers:y()});case 3:r=t.sent,n({type:"FETCH_AUTH_USER",payload:{user:r.data,isAuth:!0}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){var t=e.authUser,n=e.fetchAuthUser;Object(c.useEffect)((function(){var e=localStorage.getItem("authToken"),t=localStorage.getItem("authId");if(e)return n(t)}),[]);var r=t.isAuth?Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(w,{className:"nav-left"}),Object(j.jsx)(_,{className:"header"}),Object(j.jsx)(ee,{className:"main"})]}):Object(j.jsx)(l.d,{children:Object(j.jsx)(l.b,{path:"/",index:!0,element:Object(j.jsx)(te,{})})});return Object(j.jsx)(d.a,{children:r})})),ce=(n(247),n(251)),re=n(108),se=Object(i.c)({form:ce.a,products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":case"FETCH_PRODUCT":return t.payload;case"DELETE_PRODUCT":return e.filter((function(e){return e._id!==t.payload._id}));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":case"FETCH_USER":return t.payload;case"DELETE_USER":return e.filter((function(e){return e._id!==t.payload._id}));default:return e}},selectedProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_ITEM":return[].concat(Object(re.a)(e),[t.payload]);case"REFRESH_ITEM":return t.payload;case"DELETE_ITEM":return e.filter((function(e){return e.name!==t.payload.name}));default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CLIENT":case"EDIT_CLIENT":return t.payload;default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_HISTORIES":case"FETCH_HISTORY":return t.payload;case"DELETE_HISTORY":return e.filter((function(e){return e._id!==t.payload._id}));default:return e}},authUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_AUTH_USER":case"LOG_IN":case"LOG_OUT":return t.payload;default:return e}}}),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,ie=Object(i.e)(se,ae(Object(i.a)(o.a)));s.a.render(Object(j.jsx)(a.a,{store:ie,children:Object(j.jsx)(ne,{})}),document.getElementById("root"))},55:function(e,t,n){}},[[248,1,2]]]);
//# sourceMappingURL=main.3c4269db.chunk.js.map